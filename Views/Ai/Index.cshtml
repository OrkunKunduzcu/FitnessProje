@{
    ViewData["Title"] = "Gemini AI KoÃ§u";
}

<div class="container mt-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold" style="color: var(--primary-yellow) !important;">âœ¨ Gemini AI Fitness KoÃ§u</h1>
        <p class="lead text-white">Google Gemini yapay zekasÄ± ile sana Ã¶zel program hazÄ±rlayalÄ±m.</p>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="card shadow bg-dark border-secondary">
                <div class="card-header bg-primary text-white text-center fw-bold" style="background-color: #0d6efd !important;">
                    VÃ¼cut Analizi
                </div>
                <div class="card-body">
                    <form asp-action="GeneratePlan" method="post">
                        <div class="mb-3">
                            <label class="form-label text-white">Cinsiyet</label>
                            <select name="gender" class="form-select">
                                <option value="KadÄ±n">KadÄ±n</option>
                                <option value="Erkek">Erkek</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-white">YaÅŸÄ±nÄ±z</label>
                            <input type="number" name="age" class="form-control" required placeholder="Ã–rn: 22" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-white">Kilonuz (kg)</label>
                            <input type="number" name="weight" class="form-control" required placeholder="Ã–rn: 75" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-white">Boyunuz (cm)</label>
                            <input type="number" name="height" class="form-control" required placeholder="Ã–rn: 180" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-white">Hedefiniz</label>
                            <select name="goal" class="form-select">
                                <option value="HÄ±zlÄ± Kilo Vermek">HÄ±zlÄ± Kilo Vermek</option>
                                <option value="Kas KÃ¼tlesini ArtÄ±rmak">Kas KÃ¼tlesini ArtÄ±rmak</option>
                                <option value="Fit ve SÄ±kÄ± GÃ¶rÃ¼nmek">Fit ve SÄ±kÄ± GÃ¶rÃ¼nmek</option>
                            </select>
                        </div>
                        <div class="d-grid mt-4">
                            <button type="submit" class="btn btn-warning btn-lg fw-bold text-dark">
                                âœ¨ Gemini ile OluÅŸtur
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-7">
            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger">@ViewBag.Error</div>
            }

            @if (ViewBag.IsResult == true)
            {
                <div class="card shadow bg-dark border-warning h-100">
                    <div class="card-header bg-warning text-dark text-center fw-bold">
                        ðŸ“‹ Gemini TarafÄ±ndan HazÄ±rlanan Plan
                    </div>
                    <div class="card-body text-white">
                        <div class="alert alert-info text-dark fw-bold">
                            VÃ¼cut Kitle Ä°ndeksin (VKÄ°): @ViewBag.Bmi
                        </div>

                        <div class="ai-response" style="line-height: 1.8; color: #e0e0e0;">
                            @Html.Raw(ViewBag.Result)
                        </div>

                        <div class="mt-4 text-center border-top border-secondary pt-3">
                            <p class="small text-muted">Powered by Google Gemini AI</p>
                            <a href="/Appointment" class="btn btn-outline-light">Bu Plana Uygun Randevu Al</a>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="card bg-transparent border-0 text-center mt-5">
                    <p class="display-1">ðŸ¤–</p>
                    <p class="mt-3 fs-5" style="color: #cccccc;">
                        Google Gemini AI asistanÄ± hazÄ±r. <br>
                        Bilgilerini gir, saniyeler iÃ§inde sana Ã¶zel programÄ± yazsÄ±n.
                    </p>
                </div>
            }
        </div>
    </div>
</div>